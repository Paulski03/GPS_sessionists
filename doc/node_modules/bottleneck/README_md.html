<!DOCTYPE html>

<html>
<head>
<meta charset="UTF-8">

<title>README - RDoc Documentation</title>

<script type="text/javascript">
  var rdoc_rel_prefix = "../../";
  var index_rel_prefix = "../../";
</script>

<script src="../../js/jquery.js"></script>
<script src="../../js/darkfish.js"></script>

<link href="../../css/fonts.css" rel="stylesheet">
<link href="../../css/rdoc.css" rel="stylesheet">



<body id="top" role="document" class="file">
<nav role="navigation">
  <div id="project-navigation">
    <div id="home-section" role="region" title="Quick navigation" class="nav-section">
  <h2>
    <a href="../../index.html" rel="home">Home</a>
  </h2>

  <div id="table-of-contents-navigation">
    <a href="../../table_of_contents.html#pages">Pages</a>
    <a href="../../table_of_contents.html#classes">Classes</a>
    <a href="../../table_of_contents.html#methods">Methods</a>
  </div>
</div>

    <div id="search-section" role="search" class="project-section initially-hidden">
  <form action="#" method="get" accept-charset="utf-8">
    <div id="search-field-wrapper">
      <input id="search-field" role="combobox" aria-label="Search"
             aria-autocomplete="list" aria-controls="search-results"
             type="text" name="search" placeholder="Search" spellcheck="false"
             title="Type to search, Up and Down to navigate, Enter to load">
    </div>

    <ul id="search-results" aria-label="Search Results"
        aria-busy="false" aria-expanded="false"
        aria-atomic="false" class="initially-hidden"></ul>
  </form>
</div>

  </div>

  
<div class="nav-section">
  <h3>Table of Contents</h3>

  <ul class="link-list" role="directory">
    <li><a href="#label-bottleneck">bottleneck</a>
    <li><a href="#label-Install">Install</a>
    <li><a href="#label-Example">Example</a>
    <li><a href="#label-Docs">Docs</a>
    <li><a href="#label-Constructor">Constructor</a>
    <li><a href="#label-submit-28-29">submit()</a>
    <li><a href="#label-schedule-28-29">schedule()</a>
    <li><a href="#label-Gotchas">Gotchas</a>
    <li><a href="#label-Priorities">Priorities</a>
    <li><a href="#label-submitPriority-28-29">submitPriority()</a>
    <li><a href="#label-schedulePriority-28-29">schedulePriority()</a>
    <li><a href="#label-Strategies">Strategies</a>
    <li><a href="#label-Bottleneck.strategy.LEAK">Bottleneck.strategy.LEAK</a>
    <li><a href="#label-Bottleneck.strategy.OVERFLOW_PRIORITY">Bottleneck.strategy.OVERFLOW_PRIORITY</a>
    <li><a href="#label-Bottleneck.strategy.OVERFLOW">Bottleneck.strategy.OVERFLOW</a>
    <li><a href="#label-Bottleneck.strategy.BLOCK">Bottleneck.strategy.BLOCK</a>
    <li><a href="#label-nbQueued-28-29">nbQueued()</a>
    <li><a href="#label-nbRunning-28-29">nbRunning()</a>
    <li><a href="#label-check-28-29">check()</a>
    <li><a href="#label-isBlocked-28-29">isBlocked()</a>
    <li><a href="#label-stopAll-28-29">stopAll()</a>
    <li><a href="#label-Events">Events</a>
    <li><a href="#label-changeSettings-28-29">changeSettings()</a>
    <li><a href="#label-changePenalty-28-29">changePenalty()</a>
    <li><a href="#label-changeReservoir-28-29-2C+incrementReservoir-28-29">changeReservoir(), incrementReservoir()</a>
    <li><a href="#label-chain-28-29">chain()</a>
    <li><a href="#label-Execution+guarantee">Execution guarantee</a>
    <li><a href="#label-Cluster">Cluster</a>
    <li><a href="#label-key-28-29">key()</a>
    <li><a href="#label-stopAutoCleanup-28-29">stopAutoCleanup()</a>
    <li><a href="#label-startAutoCleanup-28-29">startAutoCleanup()</a>
    <li><a href="#label-changeTimeout-28-29">changeTimeout()</a>
    <li><a href="#label-deleteKey-28-29">deleteKey()</a>
    <li><a href="#label-all-28-29">all()</a>
    <li><a href="#label-keys-28-29">keys()</a>
    <li><a href="#label-Rate-limiting+synchronous+functions">Rate-limiting synchronous functions</a>
    <li><a href="#label-Contributing">Contributing</a>
  </ul>
</div>


  <div id="project-metadata">
    <div id="fileindex-section" class="nav-section">
  <h3>Pages</h3>

  <ul class="link-list">
  
    <li><a href="../../Gemfile.html">Gemfile</a>
  
    <li><a href="../../Gemfile_lock.html">Gemfile.lock</a>
  
    <li><a href="../../README_md.html">README</a>
  
    <li><a href="../../Rakefile.html">Rakefile</a>
  
    <li><a href="../../app/assets/config/manifest_js.html">manifest.js</a>
  
    <li><a href="../../app/assets/javascripts/application_js.html">application.js</a>
  
    <li><a href="../../app/assets/javascripts/cable_js.html">cable.js</a>
  
    <li><a href="../../app/assets/javascripts/pages_coffee.html">pages.coffee</a>
  
    <li><a href="../../app/assets/stylesheets/application_css_scss.html">application.css.scss</a>
  
    <li><a href="../../app/assets/stylesheets/custom_css_scss.html">custom.css.scss</a>
  
    <li><a href="../../app/assets/stylesheets/pages_scss.html">pages.scss</a>
  
    <li><a href="../../config_ru.html">config.ru</a>
  
    <li><a href="../../log/development_log.html">development.log</a>
  
    <li><a href="../../node_modules/addressparser/CHANGELOG_md.html">CHANGELOG</a>
  
    <li><a href="../../node_modules/addressparser/LICENSE.html">LICENSE</a>
  
    <li><a href="../../node_modules/addressparser/README_md.html">README</a>
  
    <li><a href="../../node_modules/addressparser/lib/addressparser_js.html">addressparser.js</a>
  
    <li><a href="../../node_modules/addressparser/package_json.html">package.json</a>
  
    <li><a href="../../node_modules/async_ensureasync/README_md.html">README</a>
  
    <li><a href="../../node_modules/async_ensureasync/index_js.html">index.js</a>
  
    <li><a href="../../node_modules/async_ensureasync/package_json.html">package.json</a>
  
    <li><a href="../../node_modules/async_queue/README_md.html">README</a>
  
    <li><a href="../../node_modules/async_queue/index_js.html">index.js</a>
  
    <li><a href="../../node_modules/async_queue/package_json.html">package.json</a>
  
    <li><a href="../../node_modules/async_util_arrayeach/README_md.html">README</a>
  
    <li><a href="../../node_modules/async_util_arrayeach/index_js.html">index.js</a>
  
    <li><a href="../../node_modules/async_util_arrayeach/package_json.html">package.json</a>
  
    <li><a href="../../node_modules/async_util_ensureasync/README_md.html">README</a>
  
    <li><a href="../../node_modules/async_util_ensureasync/index_js.html">index.js</a>
  
    <li><a href="../../node_modules/async_util_ensureasync/package_json.html">package.json</a>
  
    <li><a href="../../node_modules/async_util_isarray/README_md.html">README</a>
  
    <li><a href="../../node_modules/async_util_isarray/index_js.html">index.js</a>
  
    <li><a href="../../node_modules/async_util_isarray/package_json.html">package.json</a>
  
    <li><a href="../../node_modules/async_util_map/README_md.html">README</a>
  
    <li><a href="../../node_modules/async_util_map/index_js.html">index.js</a>
  
    <li><a href="../../node_modules/async_util_map/package_json.html">package.json</a>
  
    <li><a href="../../node_modules/async_util_noop/README_md.html">README</a>
  
    <li><a href="../../node_modules/async_util_noop/index_js.html">index.js</a>
  
    <li><a href="../../node_modules/async_util_noop/package_json.html">package.json</a>
  
    <li><a href="../../node_modules/async_util_onlyonce/README_md.html">README</a>
  
    <li><a href="../../node_modules/async_util_onlyonce/index_js.html">index.js</a>
  
    <li><a href="../../node_modules/async_util_onlyonce/package_json.html">package.json</a>
  
    <li><a href="../../node_modules/async_util_queue/README_md.html">README</a>
  
    <li><a href="../../node_modules/async_util_queue/index_js.html">index.js</a>
  
    <li><a href="../../node_modules/async_util_queue/package_json.html">package.json</a>
  
    <li><a href="../../node_modules/async_util_restparam/README_md.html">README</a>
  
    <li><a href="../../node_modules/async_util_restparam/index_js.html">index.js</a>
  
    <li><a href="../../node_modules/async_util_restparam/package_json.html">package.json</a>
  
    <li><a href="../../node_modules/async_util_setimmediate/README_md.html">README</a>
  
    <li><a href="../../node_modules/async_util_setimmediate/index_js.html">index.js</a>
  
    <li><a href="../../node_modules/async_util_setimmediate/package_json.html">package.json</a>
  
    <li><a href="../../node_modules/bottleneck/LICENSE.html">LICENSE</a>
  
    <li><a href="../../node_modules/bottleneck/README_md.html">README</a>
  
    <li><a href="../../node_modules/bottleneck/bottleneck_d_ts_ejs.html">bottleneck.d.ts.ejs</a>
  
    <li><a href="../../node_modules/bottleneck/bottleneck_js.html">bottleneck.js</a>
  
    <li><a href="../../node_modules/bottleneck/bottleneck_min_js.html">bottleneck.min.js</a>
  
    <li><a href="../../node_modules/bottleneck/bower_json.html">bower.json</a>
  
    <li><a href="../../node_modules/bottleneck/lib/Bottleneck_js.html">Bottleneck.js</a>
  
    <li><a href="../../node_modules/bottleneck/lib/Cluster_js.html">Cluster.js</a>
  
    <li><a href="../../node_modules/bottleneck/lib/DLList_js.html">DLList.js</a>
  
    <li><a href="../../node_modules/bottleneck/lib/index_js.html">index.js</a>
  
    <li><a href="../../node_modules/bottleneck/package_json.html">package.json</a>
  
    <li><a href="../../node_modules/bottleneck/scripts/build_sh.html">build.sh</a>
  
    <li><a href="../../node_modules/bottleneck/src/Bottleneck_coffee.html">Bottleneck.coffee</a>
  
    <li><a href="../../node_modules/bottleneck/src/Cluster_coffee.html">Cluster.coffee</a>
  
    <li><a href="../../node_modules/bottleneck/src/DLList_coffee.html">DLList.coffee</a>
  
    <li><a href="../../node_modules/bottleneck/src/index_coffee.html">index.coffee</a>
  
    <li><a href="../../node_modules/bottleneck/test_ts.html">test.ts</a>
  
    <li><a href="../../node_modules/bottleneck/test/DLList_js.html">DLList.js</a>
  
    <li><a href="../../node_modules/bottleneck/test/general_js.html">general.js</a>
  
    <li><a href="../../node_modules/bottleneck/test/index_js.html">index.js</a>
  
    <li><a href="../../node_modules/bottleneck/test/priority_js.html">priority.js</a>
  
    <li><a href="../../node_modules/bottleneck/test/promises_js.html">promises.js</a>
  
    <li><a href="../../node_modules/debug/CHANGELOG_md.html">CHANGELOG</a>
  
    <li><a href="../../node_modules/debug/LICENSE.html">LICENSE</a>
  
    <li><a href="../../node_modules/debug/Makefile.html">Makefile</a>
  
    <li><a href="../../node_modules/debug/README_md.html">README</a>
  
    <li><a href="../../node_modules/debug/component_json.html">component.json</a>
  
    <li><a href="../../node_modules/debug/karma_conf_js.html">karma.conf.js</a>
  
    <li><a href="../../node_modules/debug/node_js.html">node.js</a>
  
    <li><a href="../../node_modules/debug/package_json.html">package.json</a>
  
    <li><a href="../../node_modules/debug/src/browser_js.html">browser.js</a>
  
    <li><a href="../../node_modules/debug/src/debug_js.html">debug.js</a>
  
    <li><a href="../../node_modules/debug/src/index_js.html">index.js</a>
  
    <li><a href="../../node_modules/debug/src/node_js.html">node.js</a>
  
    <li><a href="../../node_modules/encoding/LICENSE.html">LICENSE</a>
  
    <li><a href="../../node_modules/encoding/README_md.html">README</a>
  
    <li><a href="../../node_modules/encoding/lib/encoding_js.html">encoding.js</a>
  
    <li><a href="../../node_modules/encoding/lib/iconv-loader_js.html">iconv-loader.js</a>
  
    <li><a href="../../node_modules/encoding/package_json.html">package.json</a>
  
    <li><a href="../../node_modules/encoding/test/test_js.html">test.js</a>
  
    <li><a href="../../node_modules/extend/CHANGELOG_md.html">CHANGELOG</a>
  
    <li><a href="../../node_modules/extend/LICENSE.html">LICENSE</a>
  
    <li><a href="../../node_modules/extend/README_md.html">README</a>
  
    <li><a href="../../node_modules/extend/component_json.html">component.json</a>
  
    <li><a href="../../node_modules/extend/index_js.html">index.js</a>
  
    <li><a href="../../node_modules/extend/package_json.html">package.json</a>
  
    <li><a href="../../node_modules/iconv-lite/Changelog_md.html">Changelog</a>
  
    <li><a href="../../node_modules/iconv-lite/LICENSE.html">LICENSE</a>
  
    <li><a href="../../node_modules/iconv-lite/README_md.html">README</a>
  
    <li><a href="../../node_modules/iconv-lite/encodings/dbcs-codec_js.html">dbcs-codec.js</a>
  
    <li><a href="../../node_modules/iconv-lite/encodings/dbcs-data_js.html">dbcs-data.js</a>
  
    <li><a href="../../node_modules/iconv-lite/encodings/index_js.html">index.js</a>
  
    <li><a href="../../node_modules/iconv-lite/encodings/internal_js.html">internal.js</a>
  
    <li><a href="../../node_modules/iconv-lite/encodings/sbcs-codec_js.html">sbcs-codec.js</a>
  
    <li><a href="../../node_modules/iconv-lite/encodings/sbcs-data-generated_js.html">sbcs-data-generated.js</a>
  
    <li><a href="../../node_modules/iconv-lite/encodings/sbcs-data_js.html">sbcs-data.js</a>
  
    <li><a href="../../node_modules/iconv-lite/encodings/tables/big5-added_json.html">big5-added.json</a>
  
    <li><a href="../../node_modules/iconv-lite/encodings/tables/cp936_json.html">cp936.json</a>
  
    <li><a href="../../node_modules/iconv-lite/encodings/tables/cp949_json.html">cp949.json</a>
  
    <li><a href="../../node_modules/iconv-lite/encodings/tables/cp950_json.html">cp950.json</a>
  
    <li><a href="../../node_modules/iconv-lite/encodings/tables/eucjp_json.html">eucjp.json</a>
  
    <li><a href="../../node_modules/iconv-lite/encodings/tables/gb18030-ranges_json.html">gb18030-ranges.json</a>
  
    <li><a href="../../node_modules/iconv-lite/encodings/tables/gbk-added_json.html">gbk-added.json</a>
  
    <li><a href="../../node_modules/iconv-lite/encodings/tables/shiftjis_json.html">shiftjis.json</a>
  
    <li><a href="../../node_modules/iconv-lite/encodings/utf16_js.html">utf16.js</a>
  
    <li><a href="../../node_modules/iconv-lite/encodings/utf7_js.html">utf7.js</a>
  
    <li><a href="../../node_modules/iconv-lite/lib/bom-handling_js.html">bom-handling.js</a>
  
    <li><a href="../../node_modules/iconv-lite/lib/extend-node_js.html">extend-node.js</a>
  
    <li><a href="../../node_modules/iconv-lite/lib/index_d_ts.html">index.d.ts</a>
  
    <li><a href="../../node_modules/iconv-lite/lib/index_js.html">index.js</a>
  
    <li><a href="../../node_modules/iconv-lite/lib/streams_js.html">streams.js</a>
  
    <li><a href="../../node_modules/iconv-lite/package_json.html">package.json</a>
  
    <li><a href="../../node_modules/lodash_chunk/LICENSE.html">LICENSE</a>
  
    <li><a href="../../node_modules/lodash_chunk/README_md.html">README</a>
  
    <li><a href="../../node_modules/lodash_chunk/index_js.html">index.js</a>
  
    <li><a href="../../node_modules/lodash_chunk/package_json.html">package.json</a>
  
    <li><a href="../../node_modules/mailparser/LICENSE.html">LICENSE</a>
  
    <li><a href="../../node_modules/mailparser/README_md.html">README</a>
  
    <li><a href="../../node_modules/mailparser/lib/datetime_js.html">datetime.js</a>
  
    <li><a href="../../node_modules/mailparser/lib/mailparser_js.html">mailparser.js</a>
  
    <li><a href="../../node_modules/mailparser/lib/streams_js.html">streams.js</a>
  
    <li><a href="../../node_modules/mailparser/package_json.html">package.json</a>
  
    <li><a href="../../node_modules/mailparser/test/mailparser_js.html">mailparser.js</a>
  
    <li><a href="../../node_modules/mailparser/test/mixed_eml.html">mixed.eml</a>
  
    <li><a href="../../node_modules/mailparser/test/nested_eml.html">nested.eml</a>
  
    <li><a href="../../node_modules/mime/LICENSE.html">LICENSE</a>
  
    <li><a href="../../node_modules/mime/README_md.html">README</a>
  
    <li><a href="../../node_modules/mime/build/build_js.html">build.js</a>
  
    <li><a href="../../node_modules/mime/build/test_js.html">test.js</a>
  
    <li><a href="../../node_modules/mime/cli_js.html">cli.js</a>
  
    <li><a href="../../node_modules/mime/mime_js.html">mime.js</a>
  
    <li><a href="../../node_modules/mime/package_json.html">package.json</a>
  
    <li><a href="../../node_modules/mime/types_json.html">types.json</a>
  
    <li><a href="../../node_modules/mimelib/LICENSE.html">LICENSE</a>
  
    <li><a href="../../node_modules/mimelib/README_md.html">README</a>
  
    <li><a href="../../node_modules/mimelib/index_js.html">index.js</a>
  
    <li><a href="../../node_modules/mimelib/lib/content-types-reversed_js.html">content-types-reversed.js</a>
  
    <li><a href="../../node_modules/mimelib/lib/content-types_js.html">content-types.js</a>
  
    <li><a href="../../node_modules/mimelib/lib/mimelib_js.html">mimelib.js</a>
  
    <li><a href="../../node_modules/mimelib/package_json.html">package.json</a>
  
    <li><a href="../../node_modules/ms/index_js.html">index.js</a>
  
    <li><a href="../../node_modules/ms/license_md.html">license</a>
  
    <li><a href="../../node_modules/ms/package_json.html">package.json</a>
  
    <li><a href="../../node_modules/ms/readme_md.html">readme</a>
  
    <li><a href="../../node_modules/sendgrid-rest/CHANGELOG_md.html">CHANGELOG</a>
  
    <li><a href="../../node_modules/sendgrid-rest/CONTRIBUTING_md.html">CONTRIBUTING</a>
  
    <li><a href="../../node_modules/sendgrid-rest/LICENSE_txt.html">LICENSE</a>
  
    <li><a href="../../node_modules/sendgrid-rest/README_md.html">README</a>
  
    <li><a href="../../node_modules/sendgrid-rest/examples/example_js.html">example.js</a>
  
    <li><a href="../../node_modules/sendgrid-rest/lib/client_js.html">client.js</a>
  
    <li><a href="../../node_modules/sendgrid-rest/package_json.html">package.json</a>
  
    <li><a href="../../node_modules/sendgrid-rest/test/test_js.html">test.js</a>
  
    <li><a href="../../node_modules/sendgrid/CHANGELOG_md.html">CHANGELOG</a>
  
    <li><a href="../../node_modules/sendgrid/CONTRIBUTING_md.html">CONTRIBUTING</a>
  
    <li><a href="../../node_modules/sendgrid/LICENSE_txt.html">LICENSE</a>
  
    <li><a href="../../node_modules/sendgrid/README_md.html">README</a>
  
    <li><a href="../../node_modules/sendgrid/TROUBLESHOOTING_md.html">TROUBLESHOOTING</a>
  
    <li><a href="../../node_modules/sendgrid/USAGE_md.html">USAGE</a>
  
    <li><a href="../../node_modules/sendgrid/USE_CASES_md.html">USE_CASES</a>
  
    <li><a href="../../node_modules/sendgrid/examples/accesssettings/accesssettings_js.html">accesssettings.js</a>
  
    <li><a href="../../node_modules/sendgrid/examples/alerts/alerts_js.html">alerts.js</a>
  
    <li><a href="../../node_modules/sendgrid/examples/apikeys/apikeys_js.html">apikeys.js</a>
  
    <li><a href="../../node_modules/sendgrid/examples/asm/asm_js.html">asm.js</a>
  
    <li><a href="../../node_modules/sendgrid/examples/browsers/browsers_js.html">browsers.js</a>
  
    <li><a href="../../node_modules/sendgrid/examples/campaigns/campaigns_js.html">campaigns.js</a>
  
    <li><a href="../../node_modules/sendgrid/examples/categories/categories_js.html">categories.js</a>
  
    <li><a href="../../node_modules/sendgrid/examples/clients/clients_js.html">clients.js</a>
  
    <li><a href="../../node_modules/sendgrid/examples/contactdb/contactdb_js.html">contactdb.js</a>
  
    <li><a href="../../node_modules/sendgrid/examples/devices/devices_js.html">devices.js</a>
  
    <li><a href="../../node_modules/sendgrid/examples/geo/geo_js.html">geo.js</a>
  
    <li><a href="../../node_modules/sendgrid/examples/helpers/mail/example_js.html">example.js</a>
  
    <li><a href="../../node_modules/sendgrid/examples/ips/ips_js.html">ips.js</a>
  
    <li><a href="../../node_modules/sendgrid/examples/mail/mail_js.html">mail.js</a>
  
    <li><a href="../../node_modules/sendgrid/examples/mailboxproviders/mailboxproviders_js.html">mailboxproviders.js</a>
  
    <li><a href="../../node_modules/sendgrid/examples/mailsettings/mailsettings_js.html">mailsettings.js</a>
  
    <li><a href="../../node_modules/sendgrid/examples/partnersettings/partnersettings_js.html">partnersettings.js</a>
  
    <li><a href="../../node_modules/sendgrid/examples/scopes/scopes_js.html">scopes.js</a>
  
    <li><a href="../../node_modules/sendgrid/examples/senders/senders_js.html">senders.js</a>
  
    <li><a href="../../node_modules/sendgrid/examples/stats/stats_js.html">stats.js</a>
  
    <li><a href="../../node_modules/sendgrid/examples/subusers/subusers_js.html">subusers.js</a>
  
    <li><a href="../../node_modules/sendgrid/examples/suppression/suppression_js.html">suppression.js</a>
  
    <li><a href="../../node_modules/sendgrid/examples/templates/templates_js.html">templates.js</a>
  
    <li><a href="../../node_modules/sendgrid/examples/trackingsettings/trackingsettings_js.html">trackingsettings.js</a>
  
    <li><a href="../../node_modules/sendgrid/examples/user/user_js.html">user.js</a>
  
    <li><a href="../../node_modules/sendgrid/examples/whitelabel/whitelabel_js.html">whitelabel.js</a>
  
    <li><a href="../../node_modules/sendgrid/index_d_ts.html">index.d.ts</a>
  
    <li><a href="../../node_modules/sendgrid/index_js.html">index.js</a>
  
    <li><a href="../../node_modules/sendgrid/lib/helpers/contact-importer/contact-importer_js.html">contact-importer.js</a>
  
    <li><a href="../../node_modules/sendgrid/lib/helpers/error_js.html">error.js</a>
  
    <li><a href="../../node_modules/sendgrid/lib/helpers/inbound/parse_js.html">parse.js</a>
  
    <li><a href="../../node_modules/sendgrid/lib/helpers/mail/README_md.html">README</a>
  
    <li><a href="../../node_modules/sendgrid/lib/helpers/mail/mail_js.html">mail.js</a>
  
    <li><a href="../../node_modules/sendgrid/lib/sendgrid_js.html">sendgrid.js</a>
  
    <li><a href="../../node_modules/sendgrid/package_json.html">package.json</a>
  
    <li><a href="../../node_modules/sendgrid/test/helpers/contact-importer/contact-importer_test_js.html">contact-importer.test.js</a>
  
    <li><a href="../../node_modules/sendgrid/test/helpers/inbound/parse_test_js.html">parse.test.js</a>
  
    <li><a href="../../node_modules/sendgrid/test/helpers/mail/test_js.html">test.js</a>
  
    <li><a href="../../node_modules/sendgrid/test/prism_sh.html">prism.sh</a>
  
    <li><a href="../../node_modules/sendgrid/test/test_js.html">test.js</a>
  
    <li><a href="../../node_modules/sendgrid/tsconfig_json.html">tsconfig.json</a>
  
    <li><a href="../../node_modules/uue/LICENSE.html">LICENSE</a>
  
    <li><a href="../../node_modules/uue/README_md.html">README</a>
  
    <li><a href="../../node_modules/uue/package_json.html">package.json</a>
  
    <li><a href="../../node_modules/uue/uue_js.html">uue.js</a>
  
    <li><a href="../../package-lock_json.html">package-lock.json</a>
  
    <li><a href="../../package_json.html">package.json</a>
  
    <li><a href="../../public/404_html.html">404.html</a>
  
    <li><a href="../../public/422_html.html">422.html</a>
  
    <li><a href="../../public/500_html.html">500.html</a>
  
    <li><a href="../../public/apple-touch-icon-precomposed_png.html">apple-touch-icon-precomposed.png</a>
  
    <li><a href="../../public/apple-touch-icon_png.html">apple-touch-icon.png</a>
  
    <li><a href="../../public/favicon_ico.html">favicon.ico</a>
  
    <li><a href="../../public/robots_txt.html">robots</a>
  
    <li><a href="../../tmp/pids/server_pid.html">server.pid</a>
  
    <li><a href="../../tmp/restart_txt.html">restart</a>
  
  </ul>
</div>

  </div>
</nav>

<main role="main" aria-label="Page node_modules/bottleneck/README.md">

<h1 id="label-bottleneck">bottleneck<span><a href="#label-bottleneck">&para;</a> <a href="#top">&uarr;</a></span></h1>

<p><a href="https://www.npmjs.com/package/bottleneck"><img
src="https://img.shields.io/npm/dm/bottleneck.svg?style=flat"></a> <a
href="https://www.npmjs.com/package/bottleneck"><img
src="https://img.shields.io/npm/v/bottleneck.svg?style=flat"></a> <a
href="https://github.com/SGrondin/bottleneck/blob/master/LICENSE"><img
src="https://img.shields.io/npm/l/bottleneck.svg?style=flat"></a> <a
href="https://gitter.im/SGrondin/bottleneck"><img
src="https://img.shields.io/badge/Gitter-Join%20Chat-blue.svg?style=flat"></a></p>

<p>Bottleneck is a tiny and efficient Task Scheduler and Rate Limiter for
Node.JS and the browser. When dealing with services with limited resources,
it&#39;s important to ensure that they don&#39;t become overloaded.</p>

<p>Bottleneck is the easiest solution as it doesn&#39;t add much complexity to
the code.</p>

<p>It&#39;s battle-hardened, reliable and production-ready. It&#39;s used on a
large scale in both private companies and open source software.</p>

<h2 id="label-Install">Install<span><a href="#label-Install">&para;</a> <a href="#top">&uarr;</a></span></h2>

<p><strong>Node</strong> <code> npm install bottleneck </code>
<strong>Browser</strong> <code> bower install bottleneck </code> or
<code>html &lt;script type=&quot;text/javascript&quot;
src=&quot;bottleneck.min.js&quot;&gt;&lt;/script&gt; </code></p>

<h6 id="label-Example">Example<span><a href="#label-Example">&para;</a> <a href="#top">&uarr;</a></span></h6>

<p>Most APIs have a rate limit. For example, the Reddit.com API limits
programs to 1 request every 2 seconds.</p>

<pre>var Bottleneck = require(&quot;bottleneck&quot;); // Skip when browser side

// Never more than 1 request running at a time.
// Wait at least 2000ms between each request.
var limiter = new Bottleneck(1, 2000);</pre>

<p>Instead of doing <code>js someAsyncCall(arg1, arg2, argN, callback);
</code> You do <code>js limiter.submit(someAsyncCall, arg1, arg2, argN,
callback); </code> And now you can be assured that someAsyncCall will abide
by your rate guidelines!</p>

<p>Promise users can use <a
href="https://github.com/SGrondin/bottleneck#schedule">schedule()</a>.</p>

<p>Bottleneck builds a queue of requests and executes them as soon as
possible. All the requests will be executed <em>in the order that they were
received</em>. See <a
href="https://github.com/SGrondin/bottleneck#priorities">priorities</a> if
you wish to alter this behavior.</p>

<p>This is sufficient for the vast majority of applications. <strong>Read the
<a href="https://github.com/SGrondin/bottleneck#gotchas">Gotchas</a>
section</strong> and you&#39;re good to go. Or keep reading to learn about
all the fine tuning available for the more complex use cases.</p>

<h2 id="label-Docs">Docs<span><a href="#label-Docs">&para;</a> <a href="#top">&uarr;</a></span></h2>

<h3 id="label-Constructor">Constructor<span><a href="#label-Constructor">&para;</a> <a href="#top">&uarr;</a></span></h3>

<pre>var limiter = new Bottleneck(maxConcurrent, minTime, highWater, strategy, rejectOnDrop);</pre>
<ul><li>
<p><code>maxConcurrent</code> : How many requests can be running at the same
time. <em>Default: <code>0</code> (unlimited)</em></p>
</li><li>
<p><code>minTime</code> : How long to wait after launching a request before
launching another one. <em>Default: <code>0</code>ms</em></p>
</li><li>
<p><code>highWater</code> : How long can the queue get? <em>Default:
<code>-1</code> (unlimited)</em></p>
</li><li>
<p><code>strategy</code> : Which strategy to use if the queue gets longer than
the high water mark. <em>Default:
<code>Bottleneck.strategy.LEAK</code>.</em></p>
</li><li>
<p><code>rejectOnDrop</code> : When <code>true</code> if a job is dropped its
callback will be called with the first argument set to an
<code>Error</code> object. If the job was a promise it will be rejected.
<em>Default: <code>false</em></code></p>
</li></ul>

<h3 id="label-submit-28-29">submit()<span><a href="#label-submit-28-29">&para;</a> <a href="#top">&uarr;</a></span></h3>

<p>Adds a request to the queue.</p>

<pre class="ruby"><span class="ruby-identifier">limiter</span>.<span class="ruby-identifier">submit</span>(<span class="ruby-identifier">someAsyncCall</span>, <span class="ruby-identifier">arg1</span>, <span class="ruby-identifier">arg2</span>, <span class="ruby-identifier">argN</span>, <span class="ruby-identifier">callback</span>);
</pre>

<p>It returns <code>true</code> if the strategy was executed.</p>

<h3 id="label-schedule-28-29">schedule()<span><a href="#label-schedule-28-29">&para;</a> <a href="#top">&uarr;</a></span></h3>

<p>Adds a request to the queue. This is the Promise version of
<code>submit</code>. It uses the <a
href="https://github.com/petkaantonov/bluebird">bluebird</a> package if
installed and otherwise uses the built-in <a
href="http://caniuse.com/#feat=promises">Promise</a> object.</p>

<pre>var fn = function(arg1, arg2, argN) {
        return httpGet(arg1, arg2, argN); // Here httpGet() returns a promise
};

limiter.schedule(fn, arg1, arg2, argN); // This also returns a promise, for chaining</pre>

<p>In plain language, <code>schedule</code> takes a function fn and a list of
arguments. Fn must return a promise. <code>schedule</code> returns a
promise that will be executed according to the rate limits. It&#39;s safe
to mix <code>submit</code> and <code>schedule</code> in the same limiter.</p>

<p>Here&#39;s another example, this time using the ECMAScript 7 syntax:</p>

<pre>// fn returns a promise
function fn (url) {
    return http.get(url).then(response =&gt; console.log(response.body));
}

limiter.schedule(fn, url);</pre>

<p>It&#39;s also possible to replace the Promise library used:</p>

<pre>var Bottleneck = require(&quot;bottleneck&quot;);
Bottleneck.prototype.Promise = myPromiseLibrary;

var limiter = new Bottleneck(maxConcurrent, minTime, highWater, strategy, rejectOnDrop);</pre>

<h2 id="label-Gotchas">Gotchas<span><a href="#label-Gotchas">&para;</a> <a href="#top">&uarr;</a></span></h2>
<ul><li>
<p>When using <code>submit</code>, if a callback isn&#39;t necessary, you must
pass <code>null</code> or an empty function instead. It will not work if
you forget to do this.</p>
</li><li>
<p>Make sure that all the requests will eventually complete by calling their
callback (or resolving/rejecting in the case of promises). Again, even if
you <code>submit</code>ted your request with a <code>null</code> callback ,
it still needs to call its callback. This is very important if you are
using a <code>maxConcurrent</code> value that isn&#39;t <code>0</code>
(unlimited), otherwise those uncompleted requests will be clogging up the
limiter and no new requests will be getting through. It&#39;s safe to call
the callback more than once, subsequent calls are ignored.</p>
</li><li>
<p>If you want to rate limit a synchronous function (`console.log(), for
example), you must wrap it in a closure to make it asynchronous. See <a
href="https://github.com/SGrondin/bottleneck#rate-limiting-synchronous-functions">this</a>
example.</p>
</li></ul>

<h3 id="label-Priorities">Priorities<span><a href="#label-Priorities">&para;</a> <a href="#top">&uarr;</a></span></h3>

<p>Every request has a priority level. It&#39;s <code>5</code> for every
request added with <code>submit</code>/<code>schedule</code>. There exists
a variant of those functions that lets you set the priority of a request.</p>

<p>Priority <code>0</code> is the most important and <code>9</code> is the
least important.</p>

<p><strong>More important requests will <em>always</em> be executed before
less important ones. For requests with the same priority level, the oldest
one is executed first.</strong></p>

<h4 id="label-submitPriority-28-29">submitPriority()<span><a href="#label-submitPriority-28-29">&para;</a> <a href="#top">&uarr;</a></span></h4>

<pre class="ruby"><span class="ruby-identifier">limiter</span>.<span class="ruby-identifier">submitPriority</span>(<span class="ruby-identifier">priority</span>, <span class="ruby-identifier">someAsyncCall</span>, <span class="ruby-identifier">arg1</span>, <span class="ruby-identifier">arg2</span>, <span class="ruby-identifier">argN</span>, <span class="ruby-identifier">cb</span>);
</pre>

<h4 id="label-schedulePriority-28-29">schedulePriority()<span><a href="#label-schedulePriority-28-29">&para;</a> <a href="#top">&uarr;</a></span></h4>

<pre class="ruby"><span class="ruby-identifier">limiter</span>.<span class="ruby-identifier">schedulePriority</span>(<span class="ruby-identifier">priority</span>, <span class="ruby-identifier">fn</span>, <span class="ruby-identifier">arg1</span>, <span class="ruby-identifier">arg2</span>, <span class="ruby-identifier">argN</span>);
</pre>

<h3 id="label-Strategies">Strategies<span><a href="#label-Strategies">&para;</a> <a href="#top">&uarr;</a></span></h3>

<p>A strategy is a simple algorithm that is executed every time adding a
request would cause the number of queued requests to exceed
<code>highWater</code>. See <a
href="https://github.com/SGrondin/bottleneck#events">Events</a>.</p>

<h4 id="label-Bottleneck.strategy.LEAK">Bottleneck.strategy.LEAK<span><a href="#label-Bottleneck.strategy.LEAK">&para;</a> <a href="#top">&uarr;</a></span></h4>

<p>When submitting a new request, if the queue length reaches
<code>highWater</code>, drop the oldest request with the lowest priority.
This is useful when requests that have been waiting for too long are not
important anymore. If all the queued up requests are more important than
the one being added, it won&#39;t be added.</p>

<h4 id="label-Bottleneck.strategy.OVERFLOW_PRIORITY">Bottleneck.strategy.OVERFLOW_PRIORITY<span><a href="#label-Bottleneck.strategy.OVERFLOW_PRIORITY">&para;</a> <a href="#top">&uarr;</a></span></h4>

<p>Same as <code>LEAK</code>, except that it will only drop requests that are
<em>less important</em> than the one being added. If all the queued up
requests are as important or more than the new one, it won&#39;t be added.</p>

<h4 id="label-Bottleneck.strategy.OVERFLOW">Bottleneck.strategy.OVERFLOW<span><a href="#label-Bottleneck.strategy.OVERFLOW">&para;</a> <a href="#top">&uarr;</a></span></h4>

<p>When submitting a new request, if the queue length reaches
<code>highWater</code>, do not add the new request. This strategy totally
ignores priority levels.</p>

<h4 id="label-Bottleneck.strategy.BLOCK">Bottleneck.strategy.BLOCK<span><a href="#label-Bottleneck.strategy.BLOCK">&para;</a> <a href="#top">&uarr;</a></span></h4>

<p>When submitting a new request, if the queue length reaches
<code>highWater</code>, the limiter falls into “blocked mode”. All queued
requests are dropped and no new requests will be accepted until the limiter
unblocks. It will unblock after <code>penalty</code> milliseconds have
passed without receiving a new request. <code>penalty</code> is equal to
<code>15 * minTime</code> (or <code>5000</code> if <code>minTime</code> is
<code>0</code>) by default and can be changed by calling
<code>changePenalty()</code>. This strategy is ideal when bruteforce
attacks are to be expected. This strategy totally ignores priority levels.</p>

<h3 id="label-nbQueued-28-29">nbQueued()<span><a href="#label-nbQueued-28-29">&para;</a> <a href="#top">&uarr;</a></span></h3>

<pre class="ruby"><span class="ruby-identifier">limiter</span>.<span class="ruby-identifier">nbQueued</span>(<span class="ruby-identifier">priority</span>);
</pre>

<p><code>priority</code> is optional. Without that argument, it&#39;ll return
the total number of requests waiting to be executed, otherwise it&#39;ll
only count the number of requests with that specific priority.</p>

<h3 id="label-nbRunning-28-29">nbRunning()<span><a href="#label-nbRunning-28-29">&para;</a> <a href="#top">&uarr;</a></span></h3>

<pre class="ruby"><span class="ruby-identifier">limiter</span>.<span class="ruby-identifier">nbRunning</span>();
</pre>

<p>Returns the number of requests currently running in the limiter.</p>

<h3 id="label-check-28-29">check()<span><a href="#label-check-28-29">&para;</a> <a href="#top">&uarr;</a></span></h3>

<pre class="ruby"><span class="ruby-identifier">limiter</span>.<span class="ruby-identifier">check</span>();
</pre>

<p>If a request was added right now, would it be run immediately? Returns a
boolean.</p>

<h3 id="label-isBlocked-28-29">isBlocked()<span><a href="#label-isBlocked-28-29">&para;</a> <a href="#top">&uarr;</a></span></h3>

<pre class="ruby"><span class="ruby-identifier">limiter</span>.<span class="ruby-identifier">isBlocked</span>();
</pre>

<p>Is the limiter currently in “blocked mode”? Returns a boolean.</p>

<h3 id="label-stopAll-28-29">stopAll()<span><a href="#label-stopAll-28-29">&para;</a> <a href="#top">&uarr;</a></span></h3>

<pre class="ruby"><span class="ruby-identifier">limiter</span>.<span class="ruby-identifier">stopAll</span>(<span class="ruby-identifier">interrupt</span>);
</pre>

<p>Cancels all <em>queued up</em> requests and every added request will be
automatically rejected.</p>
<ul><li>
<p><code>interrupt</code> : If true, prevent the requests currently running
from calling their callback when they&#39;re done. <em>Default:
<code>false</em></code></p>
</li></ul>

<h3 id="label-Events">Events<span><a href="#label-Events">&para;</a> <a href="#top">&uarr;</a></span></h3>

<p>Event names: <code>empty</code>, <code>idle</code>, <code>dropped</code>.</p>

<pre>limiter.on(&#39;empty&#39;, function () {
  // This will be called when the nbQueued() drops to 0.
})</pre>

<pre>limiter.on(&#39;idle&#39;, function () {
  // This will be called when the nbQueued() drops to 0 AND there is nothing currently running in the limiter.
})</pre>

<pre>limiter.on(&#39;dropped&#39;, function (dropped) {
  // This will be called when a strategy was triggered.
  // The dropped request is passed to this callback.
})</pre>

<p>Use <code>removeAllListeners()</code> with an optional event name as first
argument to remove listeners.</p>

<p><strong>Note:</strong> It&#39;s possible to set multiple callbacks to the
same event name.</p>

<h3 id="label-changeSettings-28-29">changeSettings()<span><a href="#label-changeSettings-28-29">&para;</a> <a href="#top">&uarr;</a></span></h3>

<pre class="ruby"><span class="ruby-identifier">limiter</span>.<span class="ruby-identifier">changeSettings</span>(<span class="ruby-identifier">maxConcurrent</span>, <span class="ruby-identifier">minTime</span>, <span class="ruby-identifier">highWater</span>, <span class="ruby-identifier">strategy</span>);
</pre>

<p>Same parameters as the constructor, pass <code>null</code> to skip a
parameter and keep it to its current value.</p>

<p><strong>Note:</strong> Changing <code>maxConcurrent</code> and
<code>minTime</code> will not affect requests that have already been
scheduled for execution.</p>

<p>For example, imagine that three 60-second requests are submitted at time T
with <code>maxConcurrent = 0</code> and <code>minTime = 2000</code>. The
requests will be launched at T seconds, T+2 seconds and T+4 seconds
respectively. If right after adding the requests to Bottleneck, you were to
call <code>limiter.changeSettings(1);</code>, it won&#39;t change the fact
that there will be 3 requests running at the same time for roughly 60
seconds. Once again, <code>changeSettings</code> only affects requests that
have not yet been added.</p>

<p>This is by design, as Bottleneck made a promise to execute those requests
according to the settings valid at the time. Changing settings afterwards
should not break previous assumptions, as that would make code very
error-prone and Bottleneck a tool that cannot be relied upon.</p>

<h3 id="label-changePenalty-28-29">changePenalty()<span><a href="#label-changePenalty-28-29">&para;</a> <a href="#top">&uarr;</a></span></h3>

<pre class="ruby"><span class="ruby-identifier">limiter</span>.<span class="ruby-identifier">changePenalty</span>(<span class="ruby-identifier">penalty</span>);
</pre>

<p>This changes the <code>penalty</code> value used by the <code>BLOCK</code>
strategy.</p>

<h3 id="label-changeReservoir-28-29-2C+incrementReservoir-28-29">changeReservoir(), incrementReservoir()<span><a href="#label-changeReservoir-28-29-2C+incrementReservoir-28-29">&para;</a> <a href="#top">&uarr;</a></span></h3>

<pre class="ruby"><span class="ruby-identifier">limiter</span>.<span class="ruby-identifier">changeReservoir</span>(<span class="ruby-identifier">reservoir</span>);

<span class="ruby-identifier">limiter</span>.<span class="ruby-identifier">incrementReservoir</span>(<span class="ruby-identifier">incrementBy</span>);
</pre>
<ul><li>
<p><code>reservoir</code> : How many requests can be executed before the
limiter stops executing requests. <em>Default: <code>null</code>
(unlimited)</em></p>
</li></ul>

<p>If <code>reservoir</code> reaches <code>0</code>, no new requests will be
executed until it is no more <code>0</code></p>

<h3 id="label-chain-28-29">chain()<span><a href="#label-chain-28-29">&para;</a> <a href="#top">&uarr;</a></span></h3>
<ul><li>
<p><code>limiter</code> : If another limiter is passed, tasks that are ready
to be executed will be added to that other limiter. <em>Default:
<code>null</code> (none)</em></p>
</li></ul>

<p>Suppose you have 2 types of tasks, A and B. They both have their own
limiter with their own settings, but both must also follow a global limiter
C: <code>js var limiterA = new Bottleneck(...some settings...); var
limiterB = new Bottleneck(...some different settings...); var limiterC =
new Bottleneck(...some global settings...); limiterA.chain(limiterC);
limiterB.chain(limiterC); // Requests added to limiterA must follow the A
and C rate limits. // Requests added to limiterB must follow the B and C
rate limits. // Requests added to limiterC must follow the C rate limits.
</code></p>

<h2 id="label-Execution+guarantee">Execution guarantee<span><a href="#label-Execution+guarantee">&para;</a> <a href="#top">&uarr;</a></span></h2>

<p>Bottleneck will execute every request in order of priority first, oldest to
youngest within each priority level. You can be certain that they will
<strong>all</strong> <em>eventually</em> be executed as long as:</p>
<ul><li>
<p><code>highWater</code> is set to <code>-1</code> (default), which prevents
the strategy from ever being run <strong>OR</strong> you never exceed the
<code>highWater</code>.</p>
</li><li>
<p><code>maxConcurrent</code> is set to <code>0</code> (default)
<strong>OR</strong> all requests call the callback <em>eventually</em> (in
the case of promises, they must be resolved or rejected eventually).</p>
</li><li>
<p><code>reservoir</code> is <code>null</code> (default).</p>
</li></ul>

<h2 id="label-Cluster">Cluster<span><a href="#label-Cluster">&para;</a> <a href="#top">&uarr;</a></span></h2>

<p>The <code>Cluster</code> feature of Bottleneck manages many limiters
automatically for you. It creates limiters dynamically and transparently.</p>

<p>Let&#39;s take a DNS server as an example of how Bottleneck can be used.
It&#39;s a service that sees a lot of abuse and where incoming DNS requests
need to be rate limited. Bottleneck is so tiny, it&#39;s perfectly fine to
create one limiter for each origin IP, even if it means creating thousands
and thousands of limiters. The <code>Cluster</code> mode is perfect for
this use case. We can create one cluster and then use the origin IP to rate
limit each IP independently. Each call with the same key will be routed to
the same underlying limiter. A cluster is created exactly like a limiter:</p>

<pre>var cluster = new Bottleneck.Cluster(maxConcurrent, minTime, highWater, strategy);</pre>

<p>The cluster is then used with the <code>.key(str)</code> method:</p>

<pre>// In this example, the key is an IP
cluster.key(&quot;77.66.54.32&quot;).submit(someAsyncCall, arg1, arg2, cb);</pre>

<h3 id="label-key-28-29">key()<span><a href="#label-key-28-29">&para;</a> <a href="#top">&uarr;</a></span></h3>
<ul><li>
<p><code>str</code> : The key to use. All calls submitted with the same key
will use the same limiter. <em>Default: <code>&quot;&quot;</em></code></p>
</li></ul>

<p>The return value of <code>.key(str)</code> is a limiter. If it doesn&#39;t
already exist, it is created on the fly. Limiters that have been idle for a
long time are deleted to avoid memory leaks.</p>

<h3 id="label-stopAutoCleanup-28-29">stopAutoCleanup()<span><a href="#label-stopAutoCleanup-28-29">&para;</a> <a href="#top">&uarr;</a></span></h3>

<p>Calling <code>stopAutoCleanup()</code> on a cluster will turn off its
garbage collection, so limiters for keys that have not been used in over
<strong>5 minutes</strong> will NOT be deleted anymore. It can be reenabled
by calling <code>startAutoCleanup()</code>. The <code>5 minutes</code>
figure can be modified by calling <code>changeTimeout()</code>.</p>

<h3 id="label-startAutoCleanup-28-29">startAutoCleanup()<span><a href="#label-startAutoCleanup-28-29">&para;</a> <a href="#top">&uarr;</a></span></h3>

<p>Reactivate the cluster&#39;s garbage collection for limiters (in the
cluster) that have been inactive for over 5 minutes.</p>

<h3 id="label-changeTimeout-28-29">changeTimeout()<span><a href="#label-changeTimeout-28-29">&para;</a> <a href="#top">&uarr;</a></span></h3>
<ul><li>
<p><code>timeout</code>: The expiration time for unused limiters, in
milliseconds. By default it is <code>300000</code> (5 minutes).</p>
</li></ul>

<p>When autocleanup is enabled, limiters having not been used in the last
<code>timeout</code> milliseconds will be deleted to avoid memory leaks.</p>

<h3 id="label-deleteKey-28-29">deleteKey()<span><a href="#label-deleteKey-28-29">&para;</a> <a href="#top">&uarr;</a></span></h3>
<ul><li>
<p><code>str</code>: The key for the limiter to delete.</p>
</li></ul>

<p>Manually deletes the limiter at the specified key. This can be useful when
the auto cleanup is turned off.</p>

<h3 id="label-all-28-29">all()<span><a href="#label-all-28-29">&para;</a> <a href="#top">&uarr;</a></span></h3>
<ul><li>
<p><code>cb</code> : A function to be executed on every limiter in the
cluster.</p>
</li></ul>

<p>For example, this will call <code>stopAll()</code> on every limiter in the
cluster:</p>

<pre class="ruby"><span class="ruby-identifier">cluster</span>.<span class="ruby-identifier">all</span>(<span class="ruby-identifier">function</span>(<span class="ruby-identifier">limiter</span>){
  <span class="ruby-identifier">limiter</span>.<span class="ruby-identifier">stopAll</span>();
});
</pre>

<h3 id="label-keys-28-29">keys()<span><a href="#label-keys-28-29">&para;</a> <a href="#top">&uarr;</a></span></h3>

<p>Returns an array containing all the keys in the cluster.</p>

<h2 id="label-Rate-limiting+synchronous+functions">Rate-limiting synchronous functions<span><a href="#label-Rate-limiting+synchronous+functions">&para;</a> <a href="#top">&uarr;</a></span></h2>

<p>Most of the time, using Bottleneck is as simple as the first example above.
However, when Bottleneck is used on a synchronous call, it (obviously)
becomes asynchronous, so the returned value of that call can&#39;t be used
directly. The following example should make it clear why.</p>

<p>This is the original code that we want to rate-limit: <code>js var req =
http.request(options, function(res){   //do stuff with res });
req.write(&quot;some string&quot;, &quot;utf8&quot;); req.end(); </code></p>

<p>The following code snippet will <strong>NOT</strong> work, because
<code>http.request</code> is not executed synchronously therefore
<code>req</code> doesn&#39;t contain the expected request object. <code>js
// DOES NOT WORK var req = limiter.submit(http.request, options,
function(res){   //do stuff with res }); req.write(&quot;some string&quot;,
&quot;utf8&quot;); req.end(); </code></p>

<p>This is the right way to do it: <code>js limiter.submit(function(cb){   var
req = http.request(options, function(res){     //do stuff with res    
cb();   });   req.write(&quot;some string&quot;, &quot;utf8&quot;);  
req.end(); }, null); </code></p>

<h2 id="label-Contributing">Contributing<span><a href="#label-Contributing">&para;</a> <a href="#top">&uarr;</a></span></h2>

<p>This <a href="../../README_md.html">README</a> file is always in need of
better explanations and examples. If things can be clearer and simpler,
please consider forking this repo and submitting a Pull Request, or simply
open an issue.</p>

<p>Suggestions and bug reports are also welcome.</p>
</main>



<footer id="validator-badges" role="contentinfo">
  <p><a href="http://validator.w3.org/check/referer">Validate</a>
  <p>Generated by <a href="https://rdoc.github.io/rdoc">RDoc</a> 5.0.0.
  <p>Based on <a href="http://deveiate.org/projects/Darkfish-RDoc/">Darkfish</a> by <a href="http://deveiate.org">Michael Granger</a>.
</footer>

