<!DOCTYPE html>

<html>
<head>
<meta charset="UTF-8">

<title>README - RDoc Documentation</title>

<script type="text/javascript">
  var rdoc_rel_prefix = "../../";
  var index_rel_prefix = "../../";
</script>

<script src="../../js/jquery.js"></script>
<script src="../../js/darkfish.js"></script>

<link href="../../css/fonts.css" rel="stylesheet">
<link href="../../css/rdoc.css" rel="stylesheet">



<body id="top" role="document" class="file">
<nav role="navigation">
  <div id="project-navigation">
    <div id="home-section" role="region" title="Quick navigation" class="nav-section">
  <h2>
    <a href="../../index.html" rel="home">Home</a>
  </h2>

  <div id="table-of-contents-navigation">
    <a href="../../table_of_contents.html#pages">Pages</a>
    <a href="../../table_of_contents.html#classes">Classes</a>
    <a href="../../table_of_contents.html#methods">Methods</a>
  </div>
</div>

    <div id="search-section" role="search" class="project-section initially-hidden">
  <form action="#" method="get" accept-charset="utf-8">
    <div id="search-field-wrapper">
      <input id="search-field" role="combobox" aria-label="Search"
             aria-autocomplete="list" aria-controls="search-results"
             type="text" name="search" placeholder="Search" spellcheck="false"
             title="Type to search, Up and Down to navigate, Enter to load">
    </div>

    <ul id="search-results" aria-label="Search Results"
        aria-busy="false" aria-expanded="false"
        aria-atomic="false" class="initially-hidden"></ul>
  </form>
</div>

  </div>

  
<div class="nav-section">
  <h3>Table of Contents</h3>

  <ul class="link-list" role="directory">
    <li><a href="#label-MailParser">MailParser</a>
    <li><a href="#label-Community+version">Community version</a>
    <li><a href="#label-Usage">Usage</a>
    <li><a href="#label-ICONV+NOTICE">ICONV NOTICE</a>
    <li><a href="#label-Support+mailparser+development">Support mailparser development</a>
    <li><a href="#label-Installation">Installation</a>
    <li><a href="#label-Usage">Usage</a>
    <li><a href="#label-Parsed+mail+object">Parsed mail object</a>
    <li><a href="#label-Decode+a+simple+e-mail">Decode a simple e-mail</a>
    <li><a href="#label-Pipe+file+to+MailParser">Pipe file to MailParser</a>
    <li><a href="#label-Attachments">Attachments</a>
    <li><a href="#label-Default+behavior">Default behavior</a>
    <li><a href="#label-Attachment+streaming">Attachment streaming</a>
    <li><a href="#label-Testing+attachment+integrity">Testing attachment integrity</a>
    <li><a href="#label-Running+tests">Running tests</a>
    <li><a href="#label-Issues">Issues</a>
    <li><a href="#label-License">License</a>
  </ul>
</div>


  <div id="project-metadata">
    <div id="fileindex-section" class="nav-section">
  <h3>Pages</h3>

  <ul class="link-list">
  
    <li><a href="../../Gemfile.html">Gemfile</a>
  
    <li><a href="../../Gemfile_lock.html">Gemfile.lock</a>
  
    <li><a href="../../README_md.html">README</a>
  
    <li><a href="../../Rakefile.html">Rakefile</a>
  
    <li><a href="../../app/assets/config/manifest_js.html">manifest.js</a>
  
    <li><a href="../../app/assets/javascripts/application_js.html">application.js</a>
  
    <li><a href="../../app/assets/javascripts/cable_js.html">cable.js</a>
  
    <li><a href="../../app/assets/javascripts/pages_coffee.html">pages.coffee</a>
  
    <li><a href="../../app/assets/stylesheets/application_css_scss.html">application.css.scss</a>
  
    <li><a href="../../app/assets/stylesheets/custom_css_scss.html">custom.css.scss</a>
  
    <li><a href="../../app/assets/stylesheets/pages_scss.html">pages.scss</a>
  
    <li><a href="../../config_ru.html">config.ru</a>
  
    <li><a href="../../log/development_log.html">development.log</a>
  
    <li><a href="../../node_modules/addressparser/CHANGELOG_md.html">CHANGELOG</a>
  
    <li><a href="../../node_modules/addressparser/LICENSE.html">LICENSE</a>
  
    <li><a href="../../node_modules/addressparser/README_md.html">README</a>
  
    <li><a href="../../node_modules/addressparser/lib/addressparser_js.html">addressparser.js</a>
  
    <li><a href="../../node_modules/addressparser/package_json.html">package.json</a>
  
    <li><a href="../../node_modules/async_ensureasync/README_md.html">README</a>
  
    <li><a href="../../node_modules/async_ensureasync/index_js.html">index.js</a>
  
    <li><a href="../../node_modules/async_ensureasync/package_json.html">package.json</a>
  
    <li><a href="../../node_modules/async_queue/README_md.html">README</a>
  
    <li><a href="../../node_modules/async_queue/index_js.html">index.js</a>
  
    <li><a href="../../node_modules/async_queue/package_json.html">package.json</a>
  
    <li><a href="../../node_modules/async_util_arrayeach/README_md.html">README</a>
  
    <li><a href="../../node_modules/async_util_arrayeach/index_js.html">index.js</a>
  
    <li><a href="../../node_modules/async_util_arrayeach/package_json.html">package.json</a>
  
    <li><a href="../../node_modules/async_util_ensureasync/README_md.html">README</a>
  
    <li><a href="../../node_modules/async_util_ensureasync/index_js.html">index.js</a>
  
    <li><a href="../../node_modules/async_util_ensureasync/package_json.html">package.json</a>
  
    <li><a href="../../node_modules/async_util_isarray/README_md.html">README</a>
  
    <li><a href="../../node_modules/async_util_isarray/index_js.html">index.js</a>
  
    <li><a href="../../node_modules/async_util_isarray/package_json.html">package.json</a>
  
    <li><a href="../../node_modules/async_util_map/README_md.html">README</a>
  
    <li><a href="../../node_modules/async_util_map/index_js.html">index.js</a>
  
    <li><a href="../../node_modules/async_util_map/package_json.html">package.json</a>
  
    <li><a href="../../node_modules/async_util_noop/README_md.html">README</a>
  
    <li><a href="../../node_modules/async_util_noop/index_js.html">index.js</a>
  
    <li><a href="../../node_modules/async_util_noop/package_json.html">package.json</a>
  
    <li><a href="../../node_modules/async_util_onlyonce/README_md.html">README</a>
  
    <li><a href="../../node_modules/async_util_onlyonce/index_js.html">index.js</a>
  
    <li><a href="../../node_modules/async_util_onlyonce/package_json.html">package.json</a>
  
    <li><a href="../../node_modules/async_util_queue/README_md.html">README</a>
  
    <li><a href="../../node_modules/async_util_queue/index_js.html">index.js</a>
  
    <li><a href="../../node_modules/async_util_queue/package_json.html">package.json</a>
  
    <li><a href="../../node_modules/async_util_restparam/README_md.html">README</a>
  
    <li><a href="../../node_modules/async_util_restparam/index_js.html">index.js</a>
  
    <li><a href="../../node_modules/async_util_restparam/package_json.html">package.json</a>
  
    <li><a href="../../node_modules/async_util_setimmediate/README_md.html">README</a>
  
    <li><a href="../../node_modules/async_util_setimmediate/index_js.html">index.js</a>
  
    <li><a href="../../node_modules/async_util_setimmediate/package_json.html">package.json</a>
  
    <li><a href="../../node_modules/bottleneck/LICENSE.html">LICENSE</a>
  
    <li><a href="../../node_modules/bottleneck/README_md.html">README</a>
  
    <li><a href="../../node_modules/bottleneck/bottleneck_d_ts_ejs.html">bottleneck.d.ts.ejs</a>
  
    <li><a href="../../node_modules/bottleneck/bottleneck_js.html">bottleneck.js</a>
  
    <li><a href="../../node_modules/bottleneck/bottleneck_min_js.html">bottleneck.min.js</a>
  
    <li><a href="../../node_modules/bottleneck/bower_json.html">bower.json</a>
  
    <li><a href="../../node_modules/bottleneck/lib/Bottleneck_js.html">Bottleneck.js</a>
  
    <li><a href="../../node_modules/bottleneck/lib/Cluster_js.html">Cluster.js</a>
  
    <li><a href="../../node_modules/bottleneck/lib/DLList_js.html">DLList.js</a>
  
    <li><a href="../../node_modules/bottleneck/lib/index_js.html">index.js</a>
  
    <li><a href="../../node_modules/bottleneck/package_json.html">package.json</a>
  
    <li><a href="../../node_modules/bottleneck/scripts/build_sh.html">build.sh</a>
  
    <li><a href="../../node_modules/bottleneck/src/Bottleneck_coffee.html">Bottleneck.coffee</a>
  
    <li><a href="../../node_modules/bottleneck/src/Cluster_coffee.html">Cluster.coffee</a>
  
    <li><a href="../../node_modules/bottleneck/src/DLList_coffee.html">DLList.coffee</a>
  
    <li><a href="../../node_modules/bottleneck/src/index_coffee.html">index.coffee</a>
  
    <li><a href="../../node_modules/bottleneck/test_ts.html">test.ts</a>
  
    <li><a href="../../node_modules/bottleneck/test/DLList_js.html">DLList.js</a>
  
    <li><a href="../../node_modules/bottleneck/test/general_js.html">general.js</a>
  
    <li><a href="../../node_modules/bottleneck/test/index_js.html">index.js</a>
  
    <li><a href="../../node_modules/bottleneck/test/priority_js.html">priority.js</a>
  
    <li><a href="../../node_modules/bottleneck/test/promises_js.html">promises.js</a>
  
    <li><a href="../../node_modules/debug/CHANGELOG_md.html">CHANGELOG</a>
  
    <li><a href="../../node_modules/debug/LICENSE.html">LICENSE</a>
  
    <li><a href="../../node_modules/debug/Makefile.html">Makefile</a>
  
    <li><a href="../../node_modules/debug/README_md.html">README</a>
  
    <li><a href="../../node_modules/debug/component_json.html">component.json</a>
  
    <li><a href="../../node_modules/debug/karma_conf_js.html">karma.conf.js</a>
  
    <li><a href="../../node_modules/debug/node_js.html">node.js</a>
  
    <li><a href="../../node_modules/debug/package_json.html">package.json</a>
  
    <li><a href="../../node_modules/debug/src/browser_js.html">browser.js</a>
  
    <li><a href="../../node_modules/debug/src/debug_js.html">debug.js</a>
  
    <li><a href="../../node_modules/debug/src/index_js.html">index.js</a>
  
    <li><a href="../../node_modules/debug/src/node_js.html">node.js</a>
  
    <li><a href="../../node_modules/encoding/LICENSE.html">LICENSE</a>
  
    <li><a href="../../node_modules/encoding/README_md.html">README</a>
  
    <li><a href="../../node_modules/encoding/lib/encoding_js.html">encoding.js</a>
  
    <li><a href="../../node_modules/encoding/lib/iconv-loader_js.html">iconv-loader.js</a>
  
    <li><a href="../../node_modules/encoding/package_json.html">package.json</a>
  
    <li><a href="../../node_modules/encoding/test/test_js.html">test.js</a>
  
    <li><a href="../../node_modules/extend/CHANGELOG_md.html">CHANGELOG</a>
  
    <li><a href="../../node_modules/extend/LICENSE.html">LICENSE</a>
  
    <li><a href="../../node_modules/extend/README_md.html">README</a>
  
    <li><a href="../../node_modules/extend/component_json.html">component.json</a>
  
    <li><a href="../../node_modules/extend/index_js.html">index.js</a>
  
    <li><a href="../../node_modules/extend/package_json.html">package.json</a>
  
    <li><a href="../../node_modules/iconv-lite/Changelog_md.html">Changelog</a>
  
    <li><a href="../../node_modules/iconv-lite/LICENSE.html">LICENSE</a>
  
    <li><a href="../../node_modules/iconv-lite/README_md.html">README</a>
  
    <li><a href="../../node_modules/iconv-lite/encodings/dbcs-codec_js.html">dbcs-codec.js</a>
  
    <li><a href="../../node_modules/iconv-lite/encodings/dbcs-data_js.html">dbcs-data.js</a>
  
    <li><a href="../../node_modules/iconv-lite/encodings/index_js.html">index.js</a>
  
    <li><a href="../../node_modules/iconv-lite/encodings/internal_js.html">internal.js</a>
  
    <li><a href="../../node_modules/iconv-lite/encodings/sbcs-codec_js.html">sbcs-codec.js</a>
  
    <li><a href="../../node_modules/iconv-lite/encodings/sbcs-data-generated_js.html">sbcs-data-generated.js</a>
  
    <li><a href="../../node_modules/iconv-lite/encodings/sbcs-data_js.html">sbcs-data.js</a>
  
    <li><a href="../../node_modules/iconv-lite/encodings/tables/big5-added_json.html">big5-added.json</a>
  
    <li><a href="../../node_modules/iconv-lite/encodings/tables/cp936_json.html">cp936.json</a>
  
    <li><a href="../../node_modules/iconv-lite/encodings/tables/cp949_json.html">cp949.json</a>
  
    <li><a href="../../node_modules/iconv-lite/encodings/tables/cp950_json.html">cp950.json</a>
  
    <li><a href="../../node_modules/iconv-lite/encodings/tables/eucjp_json.html">eucjp.json</a>
  
    <li><a href="../../node_modules/iconv-lite/encodings/tables/gb18030-ranges_json.html">gb18030-ranges.json</a>
  
    <li><a href="../../node_modules/iconv-lite/encodings/tables/gbk-added_json.html">gbk-added.json</a>
  
    <li><a href="../../node_modules/iconv-lite/encodings/tables/shiftjis_json.html">shiftjis.json</a>
  
    <li><a href="../../node_modules/iconv-lite/encodings/utf16_js.html">utf16.js</a>
  
    <li><a href="../../node_modules/iconv-lite/encodings/utf7_js.html">utf7.js</a>
  
    <li><a href="../../node_modules/iconv-lite/lib/bom-handling_js.html">bom-handling.js</a>
  
    <li><a href="../../node_modules/iconv-lite/lib/extend-node_js.html">extend-node.js</a>
  
    <li><a href="../../node_modules/iconv-lite/lib/index_d_ts.html">index.d.ts</a>
  
    <li><a href="../../node_modules/iconv-lite/lib/index_js.html">index.js</a>
  
    <li><a href="../../node_modules/iconv-lite/lib/streams_js.html">streams.js</a>
  
    <li><a href="../../node_modules/iconv-lite/package_json.html">package.json</a>
  
    <li><a href="../../node_modules/lodash_chunk/LICENSE.html">LICENSE</a>
  
    <li><a href="../../node_modules/lodash_chunk/README_md.html">README</a>
  
    <li><a href="../../node_modules/lodash_chunk/index_js.html">index.js</a>
  
    <li><a href="../../node_modules/lodash_chunk/package_json.html">package.json</a>
  
    <li><a href="../../node_modules/mailparser/LICENSE.html">LICENSE</a>
  
    <li><a href="../../node_modules/mailparser/README_md.html">README</a>
  
    <li><a href="../../node_modules/mailparser/lib/datetime_js.html">datetime.js</a>
  
    <li><a href="../../node_modules/mailparser/lib/mailparser_js.html">mailparser.js</a>
  
    <li><a href="../../node_modules/mailparser/lib/streams_js.html">streams.js</a>
  
    <li><a href="../../node_modules/mailparser/package_json.html">package.json</a>
  
    <li><a href="../../node_modules/mailparser/test/mailparser_js.html">mailparser.js</a>
  
    <li><a href="../../node_modules/mailparser/test/mixed_eml.html">mixed.eml</a>
  
    <li><a href="../../node_modules/mailparser/test/nested_eml.html">nested.eml</a>
  
    <li><a href="../../node_modules/mime/LICENSE.html">LICENSE</a>
  
    <li><a href="../../node_modules/mime/README_md.html">README</a>
  
    <li><a href="../../node_modules/mime/build/build_js.html">build.js</a>
  
    <li><a href="../../node_modules/mime/build/test_js.html">test.js</a>
  
    <li><a href="../../node_modules/mime/cli_js.html">cli.js</a>
  
    <li><a href="../../node_modules/mime/mime_js.html">mime.js</a>
  
    <li><a href="../../node_modules/mime/package_json.html">package.json</a>
  
    <li><a href="../../node_modules/mime/types_json.html">types.json</a>
  
    <li><a href="../../node_modules/mimelib/LICENSE.html">LICENSE</a>
  
    <li><a href="../../node_modules/mimelib/README_md.html">README</a>
  
    <li><a href="../../node_modules/mimelib/index_js.html">index.js</a>
  
    <li><a href="../../node_modules/mimelib/lib/content-types-reversed_js.html">content-types-reversed.js</a>
  
    <li><a href="../../node_modules/mimelib/lib/content-types_js.html">content-types.js</a>
  
    <li><a href="../../node_modules/mimelib/lib/mimelib_js.html">mimelib.js</a>
  
    <li><a href="../../node_modules/mimelib/package_json.html">package.json</a>
  
    <li><a href="../../node_modules/ms/index_js.html">index.js</a>
  
    <li><a href="../../node_modules/ms/license_md.html">license</a>
  
    <li><a href="../../node_modules/ms/package_json.html">package.json</a>
  
    <li><a href="../../node_modules/ms/readme_md.html">readme</a>
  
    <li><a href="../../node_modules/sendgrid-rest/CHANGELOG_md.html">CHANGELOG</a>
  
    <li><a href="../../node_modules/sendgrid-rest/CONTRIBUTING_md.html">CONTRIBUTING</a>
  
    <li><a href="../../node_modules/sendgrid-rest/LICENSE_txt.html">LICENSE</a>
  
    <li><a href="../../node_modules/sendgrid-rest/README_md.html">README</a>
  
    <li><a href="../../node_modules/sendgrid-rest/examples/example_js.html">example.js</a>
  
    <li><a href="../../node_modules/sendgrid-rest/lib/client_js.html">client.js</a>
  
    <li><a href="../../node_modules/sendgrid-rest/package_json.html">package.json</a>
  
    <li><a href="../../node_modules/sendgrid-rest/test/test_js.html">test.js</a>
  
    <li><a href="../../node_modules/sendgrid/CHANGELOG_md.html">CHANGELOG</a>
  
    <li><a href="../../node_modules/sendgrid/CONTRIBUTING_md.html">CONTRIBUTING</a>
  
    <li><a href="../../node_modules/sendgrid/LICENSE_txt.html">LICENSE</a>
  
    <li><a href="../../node_modules/sendgrid/README_md.html">README</a>
  
    <li><a href="../../node_modules/sendgrid/TROUBLESHOOTING_md.html">TROUBLESHOOTING</a>
  
    <li><a href="../../node_modules/sendgrid/USAGE_md.html">USAGE</a>
  
    <li><a href="../../node_modules/sendgrid/USE_CASES_md.html">USE_CASES</a>
  
    <li><a href="../../node_modules/sendgrid/examples/accesssettings/accesssettings_js.html">accesssettings.js</a>
  
    <li><a href="../../node_modules/sendgrid/examples/alerts/alerts_js.html">alerts.js</a>
  
    <li><a href="../../node_modules/sendgrid/examples/apikeys/apikeys_js.html">apikeys.js</a>
  
    <li><a href="../../node_modules/sendgrid/examples/asm/asm_js.html">asm.js</a>
  
    <li><a href="../../node_modules/sendgrid/examples/browsers/browsers_js.html">browsers.js</a>
  
    <li><a href="../../node_modules/sendgrid/examples/campaigns/campaigns_js.html">campaigns.js</a>
  
    <li><a href="../../node_modules/sendgrid/examples/categories/categories_js.html">categories.js</a>
  
    <li><a href="../../node_modules/sendgrid/examples/clients/clients_js.html">clients.js</a>
  
    <li><a href="../../node_modules/sendgrid/examples/contactdb/contactdb_js.html">contactdb.js</a>
  
    <li><a href="../../node_modules/sendgrid/examples/devices/devices_js.html">devices.js</a>
  
    <li><a href="../../node_modules/sendgrid/examples/geo/geo_js.html">geo.js</a>
  
    <li><a href="../../node_modules/sendgrid/examples/helpers/mail/example_js.html">example.js</a>
  
    <li><a href="../../node_modules/sendgrid/examples/ips/ips_js.html">ips.js</a>
  
    <li><a href="../../node_modules/sendgrid/examples/mail/mail_js.html">mail.js</a>
  
    <li><a href="../../node_modules/sendgrid/examples/mailboxproviders/mailboxproviders_js.html">mailboxproviders.js</a>
  
    <li><a href="../../node_modules/sendgrid/examples/mailsettings/mailsettings_js.html">mailsettings.js</a>
  
    <li><a href="../../node_modules/sendgrid/examples/partnersettings/partnersettings_js.html">partnersettings.js</a>
  
    <li><a href="../../node_modules/sendgrid/examples/scopes/scopes_js.html">scopes.js</a>
  
    <li><a href="../../node_modules/sendgrid/examples/senders/senders_js.html">senders.js</a>
  
    <li><a href="../../node_modules/sendgrid/examples/stats/stats_js.html">stats.js</a>
  
    <li><a href="../../node_modules/sendgrid/examples/subusers/subusers_js.html">subusers.js</a>
  
    <li><a href="../../node_modules/sendgrid/examples/suppression/suppression_js.html">suppression.js</a>
  
    <li><a href="../../node_modules/sendgrid/examples/templates/templates_js.html">templates.js</a>
  
    <li><a href="../../node_modules/sendgrid/examples/trackingsettings/trackingsettings_js.html">trackingsettings.js</a>
  
    <li><a href="../../node_modules/sendgrid/examples/user/user_js.html">user.js</a>
  
    <li><a href="../../node_modules/sendgrid/examples/whitelabel/whitelabel_js.html">whitelabel.js</a>
  
    <li><a href="../../node_modules/sendgrid/index_d_ts.html">index.d.ts</a>
  
    <li><a href="../../node_modules/sendgrid/index_js.html">index.js</a>
  
    <li><a href="../../node_modules/sendgrid/lib/helpers/contact-importer/contact-importer_js.html">contact-importer.js</a>
  
    <li><a href="../../node_modules/sendgrid/lib/helpers/error_js.html">error.js</a>
  
    <li><a href="../../node_modules/sendgrid/lib/helpers/inbound/parse_js.html">parse.js</a>
  
    <li><a href="../../node_modules/sendgrid/lib/helpers/mail/README_md.html">README</a>
  
    <li><a href="../../node_modules/sendgrid/lib/helpers/mail/mail_js.html">mail.js</a>
  
    <li><a href="../../node_modules/sendgrid/lib/sendgrid_js.html">sendgrid.js</a>
  
    <li><a href="../../node_modules/sendgrid/package_json.html">package.json</a>
  
    <li><a href="../../node_modules/sendgrid/test/helpers/contact-importer/contact-importer_test_js.html">contact-importer.test.js</a>
  
    <li><a href="../../node_modules/sendgrid/test/helpers/inbound/parse_test_js.html">parse.test.js</a>
  
    <li><a href="../../node_modules/sendgrid/test/helpers/mail/test_js.html">test.js</a>
  
    <li><a href="../../node_modules/sendgrid/test/prism_sh.html">prism.sh</a>
  
    <li><a href="../../node_modules/sendgrid/test/test_js.html">test.js</a>
  
    <li><a href="../../node_modules/sendgrid/tsconfig_json.html">tsconfig.json</a>
  
    <li><a href="../../node_modules/uue/LICENSE.html">LICENSE</a>
  
    <li><a href="../../node_modules/uue/README_md.html">README</a>
  
    <li><a href="../../node_modules/uue/package_json.html">package.json</a>
  
    <li><a href="../../node_modules/uue/uue_js.html">uue.js</a>
  
    <li><a href="../../package-lock_json.html">package-lock.json</a>
  
    <li><a href="../../package_json.html">package.json</a>
  
    <li><a href="../../public/404_html.html">404.html</a>
  
    <li><a href="../../public/422_html.html">422.html</a>
  
    <li><a href="../../public/500_html.html">500.html</a>
  
    <li><a href="../../public/apple-touch-icon-precomposed_png.html">apple-touch-icon-precomposed.png</a>
  
    <li><a href="../../public/apple-touch-icon_png.html">apple-touch-icon.png</a>
  
    <li><a href="../../public/favicon_ico.html">favicon.ico</a>
  
    <li><a href="../../public/robots_txt.html">robots</a>
  
    <li><a href="../../tmp/pids/server_pid.html">server.pid</a>
  
    <li><a href="../../tmp/restart_txt.html">restart</a>
  
  </ul>
</div>

  </div>
</nav>

<main role="main" aria-label="Page node_modules/mailparser/README.md">

<h1 id="label-MailParser">MailParser<span><a href="#label-MailParser">&para;</a> <a href="#top">&uarr;</a></span></h1>

<p><a href="http://travis-ci.org/andris9/mailparser"><img
src="https://api.travis-ci.org/andris9/mailparser.svg"></a> <a
href="http://badge.fury.io/js/mailparser"><img
src="https://badge.fury.io/js/mailparser.svg"></a></p>

<p><strong>MailParser</strong> is an asynchronous and non-blocking parser for
<a href="http://nodejs.org">node.js</a> to parse mime encoded e-mail
messages. Handles even large attachments with ease - attachments can be
parsed in chunks and streamed if needed.</p>

<h3 id="label-Community+version">Community version<span><a href="#label-Community+version">&para;</a> <a href="#top">&uarr;</a></span></h3>

<p>This module is unmaintained. For an upgrade see <a
href="https://gitlab.com/nodemailer/mailparser2">Mailparser2</a>. The
upgraded version is more effective, has vastly better stream handling
through Streams3 interface and is able to build up more accurate versions
of HTML and Text contents.</p>

<h3 id="label-Usage">Usage<span><a href="#label-Usage">&para;</a> <a href="#top">&uarr;</a></span></h3>

<p><strong>MailParser</strong> parses raw source of e-mail messages into a
structured object.</p>

<p>No need to worry about charsets or decoding <em>quoted-printable</em> or
<em>base64</em> data, <strong>MailParser</strong> does all of it for you.
All the textual output from <strong>MailParser</strong> (subject line,
addressee names, message body) is always UTF-8.</p>

<p>For a 25MB e-mail it takes less than a second to parse if attachments are
not streamed but buffered and about 3-4 seconds if they are streamed.
Expect high RAM usage though if you do not stream the attachments.</p>

<p>If you want to send e-mail instead of parsing it, check out my other module
<a href="https://github.com/andris9/Nodemailer">Nodemailer</a>.</p>

<h2 id="label-ICONV+NOTICE">ICONV NOTICE<span><a href="#label-ICONV+NOTICE">&para;</a> <a href="#top">&uarr;</a></span></h2>

<p>Since v0.4 <code>node-iconv</code> is not included by default as a
dependency. If you need to support encodings not covered by
<code>iconv-lite</code> you should add <code>iconv</code> as a dependency
to your own project so <code>mailparser</code> could pick it up.</p>

<h2 id="label-Support+mailparser+development">Support mailparser development<span><a href="#label-Support+mailparser+development">&para;</a> <a href="#top">&uarr;</a></span></h2>

<p><a
href="https://www.paypal.com/cgi-bin/webscr?cmd=_s-xclick&hosted_button_id=DB26KWR2BQX5W"><img
src="https://www.paypalobjects.com/en_US/i/btn/btn_donate_SM.gif"></a></p>

<h2 id="label-Installation">Installation<span><a href="#label-Installation">&para;</a> <a href="#top">&uarr;</a></span></h2>

<pre class="ruby"><span class="ruby-identifier">npm</span> <span class="ruby-identifier">install</span> <span class="ruby-identifier">mailparser</span>
</pre>

<h2 id="label-Usage">Usage<span><a href="#label-Usage">&para;</a> <a href="#top">&uarr;</a></span></h2>

<p>Require MailParser module <code>javascript var MailParser =
require(&quot;mailparser&quot;).MailParser; </code> Create a new MailParser
object <code>javascript var mailparser = new MailParser([options]); </code>
Options parameter is an object with the following properties:</p>
<ul><li>
<p><strong>debug</strong> - if set to true print all incoming lines to console</p>
</li><li>
<p><strong>streamAttachments</strong> - if set to true, stream attachments
instead of including them</p>
</li><li>
<p><strong>unescapeSMTP</strong> - if set to true replace double dots in the
beginning of the file</p>
</li><li>
<p><strong>defaultCharset</strong> - the default charset for
<em>text/plain</em> and <em>text/html</em> content, if not set reverts to
<em>Latin-1</em></p>
</li><li>
<p><strong>showAttachmentLinks</strong> - if set to true, show inlined
attachment links <code>&lt;a
href=&quot;cid:...&quot;&gt;filename&lt;/a&gt;</code></p>
</li></ul>

<p>MailParser object is a writable Stream - you can pipe directly files to it
or you can send chunks with <code>mailparser.write</code></p>

<p>When the headers have received, “headers” is emitted. The headers have not
been pre-processed (except that mime words have been converted to UTF-8
text).</p>

<pre class="ruby"><span class="ruby-identifier">mailparser</span>.<span class="ruby-identifier">on</span>(<span class="ruby-string">&quot;headers&quot;</span>, <span class="ruby-identifier">function</span>(<span class="ruby-identifier">headers</span>){
    <span class="ruby-identifier">console</span>.<span class="ruby-identifier">log</span>(<span class="ruby-identifier">headers</span>.<span class="ruby-identifier">received</span>);
});
</pre>

<p>When the parsing ends an <code>&#39;end&#39;</code> event is emitted which
has an object with parsed e-mail structure as a parameter.</p>

<pre>mailparser.on(&quot;end&quot;, function(mail){
    mail; // object structure for parsed e-mail
});</pre>

<h3 id="label-Parsed+mail+object">Parsed mail object<span><a href="#label-Parsed+mail+object">&para;</a> <a href="#top">&uarr;</a></span></h3>
<ul><li>
<p><strong>headers</strong> - unprocessed headers in the form of - <code>{key:
value}</code> - if there were multiple fields with the same key then the
value is an array</p>
</li><li>
<p><strong>from</strong> - an array of parsed <code>From</code> addresses -
<code>[{address:&#39;sender@example.com&#39;,name:&#39;Sender
Name&#39;}]</code> (should be only one though)</p>
</li><li>
<p><strong>to</strong> - an array of parsed <code>To</code> addresses</p>
</li><li>
<p><strong>cc</strong> - an array of parsed <code>Cc</code> addresses</p>
</li><li>
<p><strong>bcc</strong> - an array of parsed &#39;Bcc&#39; addresses</p>
</li><li>
<p><strong>subject</strong> - the subject line</p>
</li><li>
<p><strong>references</strong> - an array of reference message id values (not
set if no reference values present)</p>
</li><li>
<p><strong>inReplyTo</strong> - an array of In-Reply-To message id values (not
set if no in-reply-to values present)</p>
</li><li>
<p><strong>priority</strong> - priority of the e-mail, always one of the
following: <em>normal</em> (default), <em>high</em>, <em>low</em></p>
</li><li>
<p><strong>text</strong> - text body</p>
</li><li>
<p><strong>html</strong> - html body</p>
</li><li>
<p><strong>date</strong> - date field as a <code>Date()</code> object. If date
could not be resolved or is not found this field is not set. Check the
original date string from <code>headers.date</code></p>
</li><li>
<p><strong>attachments</strong> - an array of attachments</p>
</li></ul>

<h3 id="label-Decode+a+simple+e-mail">Decode a simple e-mail<span><a href="#label-Decode+a+simple+e-mail">&para;</a> <a href="#top">&uarr;</a></span></h3>

<p>This example decodes an e-mail from a string</p>

<pre>var MailParser = require(&quot;mailparser&quot;).MailParser;
var mailparser = new MailParser();

var email = &quot;From: &#39;Sender Name&#39; &lt;sender@example.com&gt;\r\n&quot;+
            &quot;To: &#39;Receiver Name&#39; &lt;receiver@example.com&gt;\r\n&quot;+
            &quot;Subject: Hello world!\r\n&quot;+
            &quot;\r\n&quot;+
            &quot;How are you today?&quot;;

// setup an event listener when the parsing finishes
mailparser.on(&quot;end&quot;, function(mail_object){
    console.log(&quot;From:&quot;, mail_object.from); //[{address:&#39;sender@example.com&#39;,name:&#39;Sender Name&#39;}]
    console.log(&quot;Subject:&quot;, mail_object.subject); // Hello world!
    console.log(&quot;Text body:&quot;, mail_object.text); // How are you today?
});

// send the email source to the parser
mailparser.write(email);
mailparser.end();</pre>

<h3 id="label-Pipe+file+to+MailParser">Pipe file to MailParser<span><a href="#label-Pipe+file+to+MailParser">&para;</a> <a href="#top">&uarr;</a></span></h3>

<p>This example pipes a <code>readableStream</code> file to
<strong>MailParser</strong> “`javascript var MailParser =
require(“mailparser”).MailParser; var mailparser = new MailParser(); var fs
= require(“fs”);</p>

<p>mailparser.on(“end”, function(mail_object){  console.log(“Subject:”,
mail_object.subject); });</p>

<p>fs.createReadStream(“email.eml”).pipe(mailparser); “`</p>

<h3 id="label-Attachments">Attachments<span><a href="#label-Attachments">&para;</a> <a href="#top">&uarr;</a></span></h3>

<p>By default any attachment found from the e-mail will be included fully in
the final mail structure object as Buffer objects. With large files this
might not be desirable so optionally it is possible to redirect the
attachments to a Stream and keep only the metadata about the file in the
mail structure.</p>

<pre class="ruby"><span class="ruby-identifier">mailparser</span>.<span class="ruby-identifier">on</span>(<span class="ruby-string">&quot;end&quot;</span>, <span class="ruby-identifier">function</span>(<span class="ruby-identifier">mail_object</span>){
    <span class="ruby-identifier">mail_object</span>.<span class="ruby-identifier">attachments</span>.<span class="ruby-identifier">forEach</span>(<span class="ruby-identifier">function</span>(<span class="ruby-identifier">attachment</span>){
        <span class="ruby-identifier">console</span>.<span class="ruby-identifier">log</span>(<span class="ruby-identifier">attachment</span>.<span class="ruby-identifier">fileName</span>);
    });
});
</pre>

<h4 id="label-Default+behavior">Default behavior<span><a href="#label-Default+behavior">&para;</a> <a href="#top">&uarr;</a></span></h4>

<p>By default attachments will be included in the attachment objects as
Buffers. <code>javascript attachments = [{     contentType:
&#39;image/png&#39;,     fileName: &#39;image.png&#39;,    
contentDisposition: &#39;attachment&#39;,     contentId:
&#39;5.1321281380971@localhost&#39;,     transferEncoding:
&#39;base64&#39;,     length: 126,     generatedFileName:
&#39;image.png&#39;,     checksum:
&#39;e4cef4c6e26037bcf8166905207ea09b&#39;,     content: &lt;Buffer ...&gt;
}]; </code> The property <code>generatedFileName</code> is usually the same
as <code>fileName</code> but if several different attachments with the same
name exist or there is no <code>fileName</code> set, an unique name is
generated.</p>

<p>Property <code>content</code> is always a Buffer object (or SlowBuffer on
some occasions)</p>

<h4 id="label-Attachment+streaming">Attachment streaming<span><a href="#label-Attachment+streaming">&para;</a> <a href="#top">&uarr;</a></span></h4>

<p>Attachment streaming can be used when providing an optional options
parameter to the <code>MailParser</code> constructor. <code>javascript var
mp = new MailParser({     streamAttachments: true } </code> This way there
will be no <code>content</code> property on final attachment objects (but
the other fields will remain).</p>

<p>To catch the streams you should listen for <code>attachment</code> events
on the MailParser object. The parameter provided includes file information
(<code>contentType</code>, <code>fileName</code>, <code>contentId</code>)
and a readable Stream object <code>stream</code>. “`javascript var mp = new
MailParser({  streamAttachments: true }</p>

<p>mp.on(“attachment”, function(attachment, mail){  var output =
fs.createWriteStream(attachment.generatedFileName); 
attachment.stream.pipe(output); }); “<code>
</code>generatedFileName<code>is unique for the parsed mail - if several
attachments with the same name exist,</code>generatedFileName<code>is
updated accordingly. Also there might not be</code>fileName<code>parameter
at all, so it is better to rely on </code>generatedFileName`.</p>

<h4 id="label-Testing+attachment+integrity">Testing attachment integrity<span><a href="#label-Testing+attachment+integrity">&para;</a> <a href="#top">&uarr;</a></span></h4>

<p>Attachment objects include <code>length</code> property which is the length
of the attachment in bytes and <code>checksum</code> property which is a
<code>md5</code> hash of the file.</p>

<h3 id="label-Running+tests">Running tests<span><a href="#label-Running+tests">&para;</a> <a href="#top">&uarr;</a></span></h3>

<p>Install <strong>MailParser</strong> with dev dependencies <code>bash npm
install --dev mailparser </code> And then run <code>bash npm test
mailparser </code> There aren&#39;t many tests yet but basics should be
covered.</p>

<h2 id="label-Issues">Issues<span><a href="#label-Issues">&para;</a> <a href="#top">&uarr;</a></span></h2>

<p><strong>S/MIME</strong></p>

<p>Currently it is not possible to verify signed content as the incoming text
is split to lines when parsing and line ending characters are not
preserved. One can assume it is always rn but this might not be always the
case.</p>

<p><strong>Seeking</strong></p>

<p>Due to the line based parsing it is also not possible to explicitly state
the beginning and ending bytes of the attachments for later source seeking.
Node.js doesn&#39;t support the concept of seeking very well anyway.</p>

<h2 id="label-License">License<span><a href="#label-License">&para;</a> <a href="#top">&uarr;</a></span></h2>

<p><strong>MIT</strong></p>
</main>



<footer id="validator-badges" role="contentinfo">
  <p><a href="http://validator.w3.org/check/referer">Validate</a>
  <p>Generated by <a href="https://rdoc.github.io/rdoc">RDoc</a> 5.0.0.
  <p>Based on <a href="http://deveiate.org/projects/Darkfish-RDoc/">Darkfish</a> by <a href="http://deveiate.org">Michael Granger</a>.
</footer>

